\subsection{\MeaningRepresentation~Structure}

In this chapter, we use several domain specific \meaningrepresentation s to
formally represent the input to the \surfacerealization~model.  While
specifics of the \meaningrepresentation~can vary from domain to domain, the
overall structure of the \meaningrepresentation~is fairly straightforward,
borrowing from a common format used frequently in the
\naturallanguagegeneration~literature
\citep{mairesse2010,gasic2014,wen2015,novikova2017,juraska2019}. Each
\meaningrepresentation~has a \dialogueact, which
expresses the communicative goal or intent, and zero or more
\attributevalue~pairs which further define the semantics of the desired
utterance. 

See \autoref{fig:informexample} for an example \meaningrepresentation~from
the restaurant domain. The dialogue act, in this case to inform a user,
is the first item and is written in \textsc{SmallCaps} style.
The attributes are ``name,'' ``eat\_type,'' ``customer\_rating,'' ``food,'' 
``area,'' and ``family\_friendly.''
Their associated values are ``Aromi,'' ``coffee shop,'' ``5 out of 5,'' 
``English,'' ``city centre,'' and ``yes'' respectively. In this
case the attributes are referring to the restaurant about which a hypothetical
dialogue agent is trying to inform a user.

In our setting, \dialogueact s are predominantly declarative (e.g.,
\autoref{fig:informexample} or \autoref{fig:giveopinionexample}), but also
include interrogatives  (e.g., \autoref{fig:confirmexample}), and some that may be
a mix of both (e.g., \autoref{fig:compareexample} where the second reference
ends in a question about user preference).  Additionally, we also have
semantically vacuous ``chit-chat'' dialogue acts like \textsc{Greeting} and 
\textsc{Goodbye} which are expected to begin and end, respectively, 
a series of exchanges with the dialogue agent. 


\input{nlg/figures/valtypes.tex}

The kinds of values that can fill an attribute are typically categorical
variables. For example, in the restaurant domain, the attribute ``food'' may
take values from a closed list of food types such as the set
\[\{\textrm{``Chinese''}, \textrm{``English''}, \textrm{``French''},
\textrm{``Fast food''}, \textrm{``Indian''}, \textrm{``Italian''}, \textrm{``Japanese''}\}.\] Other
value types include list-valued attributes, numerical values, or free text (see
\autoref{fig:valtypes} for examples of each). For list-valued attributes, the
value is a list of items drawn from a closed set.  For example, in the video
game domain, a video game can belong to several genres simultaneously.
For our purposes, we treat each value in the 
list as a distinct \attributevalue~pair. So in the case of \hyperref[fig:valtypes]{Figure \ref{fig:valtypes}a},
we treat it is if it had the following \meaningrepresentation,
\begin{center} \MR{\textsc{Inform}}{\AV{name}{Portal 2}}{\AV{esrb}{E 10+ (for Everyone 10 and Older)}}
    {\AV{genres}{platformer}} 
    {\AV{genres}{puzzle}} 
    {\AV{genres}{shooter}} 
    {\AV{player\_perspective}{first person}} 
    {\AV{has\_multiplayer}{yes}}
\end{center} 
%the genres attribute, it is as if we have \AV{genres}{platformer}, 
%\AV{genres}{puzzle}, and \AV{genres}{shooter} present in the \meaningrepresentation.
Additionally, not all attributes need to be specified. In which case, the
utterance should not mention them.






The term ``\meaningrepresentation''~is somewhat of a misnomer as the
representations might better be characterized as a pragmatic construct (i.e. a
representation of the dialogue agent's intentional state).  The
\attributevalues, on the other hand, are a semantic construct, representing the
semantic value or propositional content of the sentences in the utterance. In
other words, from the perspective of formal semantics, \begin{itemize} 
    \item \textit{The Aromi is a coffe shop in the city centre.}  
    \item \textit{Just to confirm, the coffee shop in the city centre is called Aromi?}  
    \item \textit{What
about Aromi, the coffee shop in the city centre?}  \end{itemize} \noindent all
share the same semantic value. The ``meaning'' of the above utterances
as a statement of first-order logic might look something like, \[\exists x :
\operatorname{isCoffeeShop}(x) \wedge \operatorname{namedAromi}(x) \wedge
\operatorname{inCityCentre}(x).\] We could represent this statement in our present
setting as a ``\meaningrepresentation~without a dialogue act,'' i.e.,
\begin{center} \MR{\textrm{---}}{\AV{name}{Aromi}}{\AV{eat\_type}{coffee
    shop}}{\AV{area}{city centre}} \end{center} ~\\
    
    \noindent which, when combined with one of the dialogue acts
    \textsc{Inform}, \textsc{Confirm},
    or \textsc{Recommend}, yields the pragmatic sense of the respective utterances above.




